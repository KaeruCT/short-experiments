<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="calc.js"></script>
    <link rel="stylesheet" href="index.css">
  </head>
  <body>
      <div id="wrap">
          <h1>Calculator</h1>
          <div id="main">
              <form id="go" action="">
                <label>Enter a basic mathematical expression (+ - * / ^)<br>
                    <input value="5*(2+5)" type="text" id="program">
                </label>
                <button type="submit">Calculate</button>
              </form>

              <div id="execution"></div>
            </div>
        </div>
  </body>
  <script>
        function d (id) {
            return document.getElementById(id);
        }

        d('go').addEventListener('submit', function (e) {
            var program = d('program').value,
                result,
                resultContainer = document.createElement('div'),
                container = d('execution');

            function debug (operator, a, b, result) {
                var line = document.createElement('div');
                line.innerHTML = a + ' ' + operator + ' ' + b + ' = ' + result;
                container.appendChild(line);
            }

            e.preventDefault();

            container.innerHTML = '';
            result = calculator.run(program, debug);
            resultContainer.innerHTML = "Result: <b>" + result + "</b>";
            container.appendChild(resultContainer);
        });
  </script>
</html>
